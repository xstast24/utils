import time
# ==============================================================IMPORTS==========================================================
import socket, random
import os
import glob
import queue
import subprocess
import threading
from utils import unix, utils
from test_data.sanity_data import HTTP2Servers
# ===============================================================================================================================

ITERATIONS = 3

# =============================================================PREPARATION=======================================================
is_callable = callable(os.path.exists)
failed_urls = [1, 2, 3, 5, 7, 10]
ssl_servers = {1: 1, 2:1, 3:1,4: 1, 8:1, 7:0.1,6: 0.1, 5:0.1, 10:0.1}
x = 2
y = int(len(HTTP2Servers) / 20)
z = []
# ===============================================================================================================================


##########################
# ITER 1
##########################
i = 0
start = time.time()
while i < ITERATIONS:
    # ==========================================================CODE 1===========================================================
    x = list(HTTP2Servers.items())[::20]
    if z == x:
        print('FAIL1')
    z = x
    # ===========================================================================================================================
    i += 1
end = time.time()
print("ITER 1: " + str(end - start))


##########################
# ITER 2
##########################
i = 0
start = time.time()
while i < ITERATIONS:
    # ==========================================================CODE 2===========================================================
    x = random.sample(HTTP2Servers.items(), y)
    if z == x:
        print('FAIL2')
    z = x
    # ===========================================================================================================================
    i += 1
end = time.time()
print("ITER 2: " + str(end - start))
